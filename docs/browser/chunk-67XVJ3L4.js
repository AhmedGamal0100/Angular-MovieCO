import{b as N}from"./chunk-DK2BW3MO.js";import{b as L}from"./chunk-3DSI2TTR.js";import{e as z,j as R,s as H}from"./chunk-QRBZLDK2.js";import{ia as d,ja as V,ka as F,la as E,ma as U}from"./chunk-YTIKMBIQ.js";import{n as T}from"./chunk-TF7VQGRQ.js";import{$ as _,Cb as l,Ja as x,Na as v,Nb as j,O as w,Ob as A,Rb as C,Sb as b,Tb as M,U as p,Za as S,_ as g,db as I,e as c,kb as m,na as h,oc as f,pb as D,tb as a,ub as s,vb as W,zb as u}from"./chunk-ZYSLEO3A.js";var y=class t{_http=p(T);headers={headers:{accept:"application/json",Authorization:L.TMDB_API_TOKEN}};getDetailedMovie(o=1278950,e="en_US"){return this._http.get(`https://api.themoviedb.org/3/movie/${o}?language=${e}`,this.headers)}getDetailedReviewMovie(o=1278950,e="en_US",i=1){return this._http.get(`https://api.themoviedb.org/3/movie/${o}/reviews?language=${e}&page=${i}`,this.headers)}getDetailedRecommendations(o=1278950,e="en_US",i=1){return this._http.get(`https://api.themoviedb.org/3/movie/${o}/recommendations?language=${e}&page=${i}`,this.headers)}static \u0275fac=function(e){return new(e||t)};static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})};var P=new c,O=new c,k=new c,ie=V({providedIn:"root"},U({detailedMovie:null,detailedReview:[],detailedRecommendations:[],id:0,lang:"en-US",page:1}),E(t=>({setLanguage(o){d(t,{lang:o})},setId(o){d(t,{id:o})},setPage(o){d(t,{page:o})}})),F({onInit(t){let o=p(y);f(()=>{let e=t.id(),i=t.lang(),r=t.page();e&&(P.unsubscribe(),P=o.getDetailedMovie(e,i).subscribe({next:n=>{d(t,{detailedMovie:n})},error:n=>console.error("Failed to load movie details",n)}),O.unsubscribe(),O=o.getDetailedReviewMovie(e,i,r).subscribe({next:n=>{d(t,{detailedReview:n.results})},error:n=>console.error("Failed to load reviews",n)}),k.unsubscribe(),k=o.getDetailedRecommendations(e,i,r).subscribe({next:n=>{d(t,{detailedRecommendations:n.results})},error:n=>console.error("Failed to load recommendations",n)}))})},onDestroy(){P.unsubscribe(),O.unsubscribe(),k.unsubscribe()}}));function K(t,o){if(t&1){let e=u();a(0,"p-knob",8),M("ngModelChange",function(r){g(e);let n=l();return b(n.movieCardAveragePopularity,r)||(n.movieCardAveragePopularity=r),_(r)}),s()}if(t&2){let e=l();C("ngModel",e.movieCardAveragePopularity),m("size",50)("strokeWidth",5)}}function $(t,o){if(t&1){let e=u();a(0,"p-knob",9),M("ngModelChange",function(r){g(e);let n=l();return b(n.movieCardAveragePopularity,r)||(n.movieCardAveragePopularity=r),_(r)}),s()}if(t&2){let e=l();C("ngModel",e.movieCardAveragePopularity),m("size",50)("strokeWidth",5)}}function q(t,o){if(t&1){let e=u();a(0,"p-knob",10),M("ngModelChange",function(r){g(e);let n=l();return b(n.movieCardAveragePopularity,r)||(n.movieCardAveragePopularity=r),_(r)}),s()}if(t&2){let e=l();C("ngModel",e.movieCardAveragePopularity),m("size",50)("strokeWidth",5)}}var B=class t{constURL="https://image.tmdb.org/t/p/w500";movieCardObj;movieCardAveragePopularity=h(0);movieCardThumbnailImg=h("");movieCardTitle=h("");constructor(){f(()=>{this.movieCardThumbnailImg.set(this.constURL+(this.movieCardObj?.poster_path??"")),this.movieCardAveragePopularity.set(parseFloat(((this.movieCardObj?.vote_average??0)*10).toFixed(2))),this.movieCardTitle.set(this.movieCardObj?.title??"")})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=S({type:t,selectors:[["app-home-cards"]],inputs:{movieCardObj:"movieCardObj"},decls:10,vars:3,consts:[[1,"home-card"],[1,"home-card__thumbnail"],["alt","thumbnail image",3,"src"],[1,"home-card__knob"],[1,"home-card__level-red",3,"ngModel","size","strokeWidth"],[1,"home-card__level-yellow",3,"ngModel","size","strokeWidth"],[1,"home-card__level-emerald",3,"ngModel","size","strokeWidth"],[1,"home-card__content"],[1,"home-card__level-red",3,"ngModelChange","ngModel","size","strokeWidth"],[1,"home-card__level-yellow",3,"ngModelChange","ngModel","size","strokeWidth"],[1,"home-card__level-emerald",3,"ngModelChange","ngModel","size","strokeWidth"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1),W(2,"img",2),s(),a(3,"div",3),I(4,K,1,3,"p-knob",4)(5,$,1,3,"p-knob",5)(6,q,1,3,"p-knob",6),s(),a(7,"div",7)(8,"h4"),j(9),s()()()),e&2&&(v(2),m("src",i.movieCardThumbnailImg(),x),v(2),D(i.movieCardAveragePopularity()<30?4:i.movieCardAveragePopularity()<70?5:6),v(5),A(i.movieCardTitle()))},dependencies:[H,z,R,N],styles:["[_nghost-%COMP%]   .home-card[_ngcontent-%COMP%]{width:100%;height:353px;position:relative;border:2px solid var(--p-surface-300);background-color:var(--p-surface-50);transition:.1s;border-radius:1rem;scale:.98}html.my-add-dark   [_nghost-%COMP%]   .home-card[_ngcontent-%COMP%]{background-color:var(--p-surface-50)}[_nghost-%COMP%]   .home-card[_ngcontent-%COMP%]:hover{scale:1;box-shadow:0 0 10px #0003}[_nghost-%COMP%]   .home-card__thumbnail[_ngcontent-%COMP%]{height:350px}[_nghost-%COMP%]   .home-card__thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:1rem;width:100%;height:100%}[_nghost-%COMP%]   .home-card__knob[_ngcontent-%COMP%]{position:absolute;top:.5rem;left:.5rem}[_nghost-%COMP%]   .home-card__knob[_ngcontent-%COMP%]     .p-knob{border-radius:50%;display:flex;align-items:center;justify-content:center;background-color:#00000080;color:var(--p-surface-900)}[_nghost-%COMP%]   .home-card__knob[_ngcontent-%COMP%]     .p-knob .p-knob-text{fill:#fff;font-weight:900}[_nghost-%COMP%]   .home-card__knob[_ngcontent-%COMP%]     .p-knob .p-knob-range{stroke:var(--p-surface-200)}[_nghost-%COMP%]   .home-card__level-emerald[_ngcontent-%COMP%]     .p-knob .p-knob-value{stroke:var(--p-emerald-500)}[_nghost-%COMP%]   .home-card__level-yellow[_ngcontent-%COMP%]     .p-knob .p-knob-value{stroke:var(--p-yellow-500)}[_nghost-%COMP%]   .home-card__level-red[_ngcontent-%COMP%]     .p-knob .p-knob-value{stroke:var(--p-red-500)}[_nghost-%COMP%]   .home-card__content[_ngcontent-%COMP%]{opacity:0;position:absolute;height:50px;display:flex;justify-content:center;align-items:center;bottom:0;background-color:#000000b3;width:100%;transition:opacity .5s,transform .5s;border-radius:0 0 1rem 1rem}[_nghost-%COMP%]   .home-card__content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-size:larger;text-align:center;color:var(--p-surface-800);padding-block:.3rem;color:#fff}[_nghost-%COMP%]   .home-card[_ngcontent-%COMP%]:hover   .home-card__content[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}"]})};export{ie as a,B as b};
