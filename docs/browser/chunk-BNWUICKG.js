import{a as x,b as Y}from"./chunk-67XVJ3L4.js";import{a as ee,b as te,c as ie,d as ne,e as oe}from"./chunk-BWAXAYBJ.js";import{b as Z}from"./chunk-E75J5K26.js";import{a as G}from"./chunk-3KEVBV26.js";import{a as Q,b as X}from"./chunk-EUJZH6SC.js";import{a as K}from"./chunk-DK2BW3MO.js";import"./chunk-3DSI2TTR.js";import{C as q}from"./chunk-QRBZLDK2.js";import{S as k,W as J}from"./chunk-YTIKMBIQ.js";import{c as B,i as H,r as b}from"./chunk-TF7VQGRQ.js";import"./chunk-F2X3VGZZ.js";import{$ as U,Bb as f,Cb as v,Fb as W,Ja as y,Na as l,Nb as r,Ob as u,Pb as D,Qb as V,U as m,Ub as F,Za as C,_ as L,db as _,ka as $,kb as p,na as d,oc as P,pb as g,rb as M,sb as O,tb as n,ub as a,vb as s,zb as N}from"./chunk-ZYSLEO3A.js";function se(t,e){if(t&1){let i=N();n(0,"button",5),f("click",function(){let c=L(i).$implicit,h=v();return U(h.routeToDetails(c))}),n(1,"div"),s(2,"app-home-cards",6),a()()}if(t&2){let i=e.$implicit;l(2),p("movieCardObj",i)}}var S=class t{_apiDetailsStore=m(x);_router=m(b);movieCardObjs=d([]);responsiveOptions;constructor(){P(()=>{let e=this._apiDetailsStore.id(),i=this._apiDetailsStore.detailedRecommendations();e&&i?.length?this.movieCardObjs.set(i):this.movieCardObjs.set([])})}ngOnInit(){this.responsiveOptions=[{breakpoint:"1440px",numVisible:5,numScroll:1},{breakpoint:"1199px",numVisible:4,numScroll:1},{breakpoint:"767px",numVisible:3,numScroll:1},{breakpoint:"575px",numVisible:2,numScroll:1}]}routeToDetails(e){window.scrollTo({top:0,behavior:"smooth"}),this._router.navigateByUrl("/home/details/"+e.id)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=C({type:t,selectors:[["app-detail-similar-slider"]],decls:7,vars:6,consts:[[1,"cards-slider"],[1,"cards-slider__container"],[1,"cards-slider__title"],[3,"value","numVisible","numScroll","showIndicators","circular","responsiveOptions"],["pTemplate","item"],[3,"click"],[3,"movieCardObj"]],template:function(i,o){i&1&&(n(0,"section",0)(1,"section",1)(2,"div",2)(3,"h2"),r(4,"Recommended for you"),a()(),n(5,"p-carousel",3),_(6,se,3,1,"ng-template",4),a()()()),i&2&&(l(5),p("value",o.movieCardObjs())("numVisible",6)("numScroll",1)("showIndicators",!1)("circular",!1)("responsiveOptions",o.responsiveOptions))},dependencies:[Y,Z,q,J],styles:["[_nghost-%COMP%]   .cards-slider[_ngcontent-%COMP%]   .cards-slider__container[_ngcontent-%COMP%]{padding-block:1rem 3rem}[_nghost-%COMP%]   .cards-slider[_ngcontent-%COMP%]   .cards-slider__title[_ngcontent-%COMP%]{padding-inline:3rem;margin-bottom:1rem}[_nghost-%COMP%]   .cards-slider[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:500;display:inline;transition:.5s;font-size:2rem;text-decoration:underline}html.my-add-dark   [_nghost-%COMP%]   .cards-slider[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--p-surface-100)}[_nghost-%COMP%]   .cards-slider[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:hover{color:var(--p-surface-700)}html.my-add-dark   [_nghost-%COMP%]   .cards-slider[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:hover{color:var(--p-surface-500)}[_nghost-%COMP%]   .cards-slider[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:0;border:0}"]})};var I=(t,e)=>e.id;function me(t,e){t&1&&s(0,"i",8)}function de(t,e){t&1&&s(0,"i",9)}function ce(t,e){t&1&&(n(0,"h4",16),r(1,"R"),a())}function _e(t,e){if(t&1&&(n(0,"div"),r(1),a()),t&2){let i=e.$implicit;l(),u(i.name)}}function pe(t,e){if(t&1&&(n(0,"li",30),s(1,"img",12),a()),t&2){let i=v().$implicit,o=v(2);l(),p("src",o.constURL+i.logo_path,y)("alt",i.name||"Production Company Logo")}}function ge(t,e){if(t&1&&_(0,pe,2,2,"li",30),t&2){let i=e.$implicit;g(i.logo_path?0:-1)}}function ve(t,e){if(t&1&&(n(0,"h4",28),r(1,"Production Companies"),a(),n(2,"ul",29),M(3,ge,1,1,null,null,I),a()),t&2){let i,o=v();l(3),O((i=o.movieDetails())==null?null:i.production_companies)}}function ue(t,e){if(t&1&&(n(0,"p-accordion-panel",25)(1,"p-accordion-header"),r(2),a(),n(3,"p-accordion-content")(4,"p",31),r(5),a()()()),t&2){let i=e.$implicit,o=e.$index;p("value",i.id),l(2),V("- Review ",o,": ",i.author,""),l(3),u(i.content)}}function fe(t,e){if(t&1&&(n(0,"p-accordion",25),M(1,ue,6,4,"p-accordion-panel",25,I),a()),t&2){let i=v();p("value",0),l(),O(i.movieReviews())}}function he(t,e){t&1&&(n(0,"h3",26),r(1,"No Available Reviews"),a())}function Ce(t,e){t&1&&s(0,"app-detail-similar-slider")}var ae=class t{constURL="https://image.tmdb.org/t/p/w500";_apiDetailsStore=m(x);_apiStore=m(K);_registerStore=m(Q);_messageService=m(k);_notificationStore=m(G);router=m(b);id=$();location=m(B);movieDetails=d(null);movieReviews=d([]);movieRecommendations=d(0);isWishlisted=d(!1);isLoggedIn=d(!1);getBackdropUrl=d("");getPosterUrl=d("");sampleReview=d("");constructor(){P(()=>{let e=this._apiDetailsStore.detailedMovie();if(!this.id()){this.router.navigate(["/home"]);return}if(this._apiDetailsStore.setId(this.id()),this._apiDetailsStore.setLanguage(this._apiStore.lang()||"en-US"),this._apiDetailsStore.setPage(1),!e)return;this.movieDetails.set(e),this.sampleReview.set(e.overview),this.getBackdropUrl.set(this.constURL+e.backdrop_path),this.getPosterUrl.set(this.constURL+e.poster_path),this.movieReviews.set(this._apiDetailsStore.detailedReview()),this.movieRecommendations.set(this._apiDetailsStore.detailedRecommendations().length);let i=sessionStorage.getItem("user_id");if(i){this.isLoggedIn.set(!0);let o=JSON.parse(i);this.isWishlisted.set(o.wishList?.movies?.some(c=>c.id==e.id)??!1)}else this.isLoggedIn.set(!1),this.isWishlisted.set(!1)})}goBack(){this.location.back()}goHome(){this.router.navigate(["/home"])}formattedVoteAverage(){return(this.movieDetails()?.vote_average??0).toFixed(1)+"/10"}toggleWishlist(){if(!this.isLoggedIn()){this.showNotify("Login Required","Please login first to use the wishlist feature");return}this.isWishlisted.set(!this.isWishlisted()),this._registerStore.toggleMovieWishlist(this.movieDetails());let e=this.isWishlisted()?"added to":"removed from";this.showNotify("Watch List Updated",`${this.movieDetails()?.title} was ${e} your watch list`),this._notificationStore.pushNotification(`Watch List Updated: ${this.movieDetails()?.title} was ${e} your watch list`)}showNotify(e,i){this._messageService.add({severity:"secondary",summary:e,detail:i})}ngOnDestroy(){window.scrollTo({top:0,behavior:"smooth"})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=C({type:t,selectors:[["app-details"]],inputs:{id:[1,"id"]},features:[F([k])],decls:43,vars:13,consts:[[1,"movie-details"],[1,"movie-details__container","w-12","flex"],[1,"movie-details__bg"],[1,"movie-details__action-buttons"],[1,"movie-details__back-btn",3,"click"],[1,"pi","pi-arrow-left"],[1,"pi","pi-home"],[3,"click"],[1,"pi","pi-heart"],[1,"pi","pi-heart-fill"],[1,"movie-details__poster"],[1,"movie-details__poster-img"],[3,"src","alt"],[1,"movie-details__tab-content","flex","flex-column","gap-2"],[1,"movie-details__title"],[1,"flex","align-items-center","mb-3","gap-2"],[1,"movie-details__adult"],[1,"movie-details__date"],[1,"flex","gap-2","align-items-center","border-1","px-2","py-1","border-round-lg","bg-white"],[1,"movie-details__rate","text-gray-900"],[1,"pi","pi-star-fill","text-gray-900"],[1,"movie-details__genres"],[1,"py-1"],[1,"text-lg"],[1,"movie-details__reviews","p-5","flex","flex-column","jutify-content-center","align-items-center"],[3,"value"],[1,"movie-details__reviews-no","w-full"],[1,"card","flex","justify-center","gap-2","text-2xl","toast"],[1,"text-2xl","mb-2"],[1,"movie-details__production"],[1,"movie-details__comp-logo"],[1,"m-0"]],template:function(i,o){if(i&1&&(n(0,"div",0)(1,"div",1),s(2,"div",2),n(3,"div",3)(4,"button",4),f("click",function(){return o.goBack()}),s(5,"i",5),a(),n(6,"button",4),f("click",function(){return o.goHome()}),s(7,"i",6),a(),n(8,"button",7),f("click",function(){return o.toggleWishlist()}),_(9,me,1,0,"i",8)(10,de,1,0,"i",9),a()(),n(11,"div",10)(12,"div",11),s(13,"img",12),a()(),n(14,"div",13)(15,"h1",14),r(16),a(),n(17,"div",15),_(18,ce,2,0,"h4",16),n(19,"h4",17),r(20),a(),n(21,"div",18)(22,"h4",19),r(23),a(),s(24,"i",20),a()(),n(25,"div",21),M(26,_e,2,1,"div",null,I),a(),n(28,"div",22)(29,"h4",23),r(30),a()(),n(31,"p"),r(32),a(),n(33,"p"),r(34),a(),n(35,"div"),_(36,ve,5,0),a()(),n(37,"div",24),_(38,fe,3,1,"p-accordion",25)(39,he,2,0,"h3",26),a()(),_(40,Ce,1,0,"app-detail-similar-slider"),n(41,"div",27),s(42,"p-toast"),a()()),i&2){let c,h,E,T,R,z,j,A,w;l(9),g(o.isWishlisted()?10:9),l(4),W("alt",(c=o.movieDetails())==null?null:c.title),p("src",o.getPosterUrl(),y),l(3),u((h=o.movieDetails())==null?null:h.title),l(2),g((E=o.movieDetails())!=null&&E.adult?18:-1),l(2),u((T=o.movieDetails())==null?null:T.release_date),l(3),D(" ",o.formattedVoteAverage(),"/10"),l(3),O((R=o.movieDetails())==null?null:R.genres),l(4),D("Episode Time: ",(z=o.movieDetails())==null?null:z.runtime," min"),l(2),u((j=o.movieDetails())==null?null:j.tagline),l(2),u((A=o.movieDetails())==null?null:A.overview),l(2),g(((w=o.movieDetails())==null||w.production_companies==null?null:w.production_companies.length)>0?36:-1),l(2),g(o.movieReviews().length>0?38:39),l(2),g(o.movieRecommendations()>0?40:-1)}},dependencies:[H,X,oe,ne,ee,te,ie,S],styles:["[_nghost-%COMP%]   .movie-details[_ngcontent-%COMP%]{position:relative;background-color:#121212;color:#fff}[_nghost-%COMP%]   .movie-details__container[_ngcontent-%COMP%]{position:relative;color:#fff;z-index:2;min-height:90vh}[_nghost-%COMP%]   .movie-details__bg[_ngcontent-%COMP%]{z-index:1;position:absolute;background-color:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);inset:0}[_nghost-%COMP%]   .movie-details__banner[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}[_nghost-%COMP%]   .movie-details__banner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;filter:brightness(.5)}[_nghost-%COMP%]   .movie-details__action-buttons[_ngcontent-%COMP%]{position:absolute;top:0;left:1rem;padding:1rem;z-index:5;display:flex;gap:.5rem}[_nghost-%COMP%]   .movie-details__action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-left:.5rem;height:3rem;width:3rem;background-color:var(--p-red-500);color:#fff;border-radius:50%;padding:.5rem 1rem;border:none;cursor:pointer}[_nghost-%COMP%]   .movie-details__action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}[_nghost-%COMP%]   .movie-details__action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--p-red-600)}[_nghost-%COMP%]   .movie-details__poster[_ngcontent-%COMP%]{position:relative;border-radius:10px;z-index:3;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .movie-details__poster[_ngcontent-%COMP%]   .movie-details__poster-img[_ngcontent-%COMP%]{width:80%;overflow:hidden;border-radius:10px}[_nghost-%COMP%]   .movie-details__poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:10px}[_nghost-%COMP%]   .movie-details__tab-content[_ngcontent-%COMP%]{position:relative;z-index:3;padding:1rem;background-color:#000000b3;padding-block:2rem}[_nghost-%COMP%]   .movie-details__tab-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.5rem;font-weight:700}[_nghost-%COMP%]   .movie-details__tab-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;line-height:1.5}[_nghost-%COMP%]   .movie-details__tab-content[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center;padding-inline:3rem}[_nghost-%COMP%]   .movie-details__tab-content[_ngcontent-%COMP%]   .movie-details__date[_ngcontent-%COMP%]{color:#ccc;font-size:1.2rem;font-weight:300}[_nghost-%COMP%]   .movie-details__tab-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;line-height:1.5;color:#ccc;font-size:1.1rem}[_nghost-%COMP%]   .movie-details__tab-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.5rem;margin-bottom:.5rem;text-decoration:underline}[_nghost-%COMP%]   .movie-details__tab-content[_ngcontent-%COMP%]   .movie-details__overview[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}[_nghost-%COMP%]   .movie-details__tab-content[_ngcontent-%COMP%]   .movie-details__genres[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap;justify-content:center}[_nghost-%COMP%]   .movie-details__tab-content[_ngcontent-%COMP%]   .movie-details__genres[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:fit-content;font-size:1rem;color:#fff;margin-bottom:.5rem;background-color:#ffffff80;padding:.5rem 1rem;border-radius:5px}[_nghost-%COMP%]   .movie-details__tab-content[_ngcontent-%COMP%]   .movie-details__production[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap;justify-content:center;align-items:center}[_nghost-%COMP%]   .movie-details__reviews[_ngcontent-%COMP%]{position:relative;z-index:3;max-height:100%;justify-content:center;display:flex}[_nghost-%COMP%]   .movie-details__reviews-no[_ngcontent-%COMP%]{text-align:center;width:fit-content;color:#ccc;font-size:1.5rem;background-color:#000000b3;padding-block:1rem;border-radius:10px}[_nghost-%COMP%]     p-accordion-panel .p-accordion-panel{max-height:500px}[_nghost-%COMP%]     p-accordion-panel p{max-height:300px;overflow-y:scroll;padding-block:1rem}[_nghost-%COMP%]   .movie-details__comp-logo[_ngcontent-%COMP%]{width:20%;height:fit-content;background-color:#ffffffde;display:flex;align-items:center;padding:.25rem;border-radius:5%}[_nghost-%COMP%]   .movie-details__comp-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.toast[_ngcontent-%COMP%]{position:relative;z-index:10;background-color:#000000b3}ul[_ngcontent-%COMP%]{list-style-type:none}@media (max-width: 768px){.movie-details__container[_ngcontent-%COMP%]{display:flex;flex-direction:column}}.movie-details__poster[_ngcontent-%COMP%], .movie-details__tab-content[_ngcontent-%COMP%], .movie-details__reviews[_ngcontent-%COMP%]{width:33.333%}@media (max-width: 768px){.movie-details__poster[_ngcontent-%COMP%], .movie-details__tab-content[_ngcontent-%COMP%], .movie-details__reviews[_ngcontent-%COMP%]{width:100%}.movie-details__poster[_ngcontent-%COMP%]{padding-block:1rem}}"]})};export{ae as detailsComponent};
