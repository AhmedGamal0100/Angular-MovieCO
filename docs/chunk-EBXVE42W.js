import{b as N}from"./chunk-DK2BW3MO.js";import{b as L}from"./chunk-3DSI2TTR.js";import{e as z,j as R,s as H}from"./chunk-QRBZLDK2.js";import{ia as l,ja as V,ka as F,la as E,ma as U}from"./chunk-YTIKMBIQ.js";import{n as j}from"./chunk-TF7VQGRQ.js";import{$ as g,Cb as d,Ja as k,Na as v,Nb as W,O,Ob as A,Rb as C,Sb as b,Tb as w,U as m,Za as x,_ as p,db as S,e as h,kb as c,na as _,oc as f,pb as I,tb as a,ub as s,vb as D,zb as u}from"./chunk-ZYSLEO3A.js";var M=class t{_http=m(j);headers={headers:{accept:"application/json",Authorization:L.TMDB_API_TOKEN}};getDetailedTv(o,e="en-US"){return this._http.get(`https://api.themoviedb.org/3/tv/${o}?language=${e}`,this.headers)}getDetailedReviewTv(o,e="en-US",r=1){return this._http.get(`https://api.themoviedb.org/3/tv/${o}/reviews?language=${e}&page=${r}`,this.headers)}getDetailedRecommendationsTv(o,e="en-US",r=1){return this._http.get(`https://api.themoviedb.org/3/tv/${o}/recommendations?language=${e}&page=${r}`,this.headers)}static \u0275fac=function(e){return new(e||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})};var y=new h,T=new h,P=new h,re=V({providedIn:"root"},U({detailedTv:null,detailedReviewTv:[],detailedRecommendationsTv:[],id:0,lang:"en-US",page:1}),E(t=>({setLanguage(o){l(t,{lang:o})},setId(o){l(t,{id:o})},setPage(o){l(t,{page:o})}})),F({onInit(t){let o=m(M);f(()=>{let e=t.id(),r=t.lang(),i=t.page();e&&(y.unsubscribe(),y=o.getDetailedTv(e,r).subscribe({next:n=>{l(t,{detailedTv:n})},error:n=>console.error("Failed to load TV details",n)}),T.unsubscribe(),T=o.getDetailedReviewTv(e,r,i).subscribe({next:n=>{l(t,{detailedReviewTv:n.results})},error:n=>console.error("Failed to load reviews",n)}),P.unsubscribe(),P=o.getDetailedRecommendationsTv(e,r,i).subscribe({next:n=>{l(t,{detailedRecommendationsTv:n.results})},error:n=>console.error("Failed to load recommendations",n)}))})},onDestroy(){y.unsubscribe(),T.unsubscribe(),P.unsubscribe()}}));function K(t,o){if(t&1){let e=u();a(0,"p-knob",8),w("ngModelChange",function(i){p(e);let n=d();return b(n.showCardAveragePopularity,i)||(n.showCardAveragePopularity=i),g(i)}),s()}if(t&2){let e=d();C("ngModel",e.showCardAveragePopularity),c("size",50)("strokeWidth",5)}}function $(t,o){if(t&1){let e=u();a(0,"p-knob",9),w("ngModelChange",function(i){p(e);let n=d();return b(n.showCardAveragePopularity,i)||(n.showCardAveragePopularity=i),g(i)}),s()}if(t&2){let e=d();C("ngModel",e.showCardAveragePopularity),c("size",50)("strokeWidth",5)}}function q(t,o){if(t&1){let e=u();a(0,"p-knob",10),w("ngModelChange",function(i){p(e);let n=d();return b(n.showCardAveragePopularity,i)||(n.showCardAveragePopularity=i),g(i)}),s()}if(t&2){let e=d();C("ngModel",e.showCardAveragePopularity),c("size",50)("strokeWidth",5)}}var B=class t{constURL="https://image.tmdb.org/t/p/w500";showCardObj;showCardAveragePopularity=_(0);showCardThumbnailImg=_("");showCardTitle=_("");constructor(){f(()=>{this.showCardThumbnailImg.set(this.constURL+(this.showCardObj?.poster_path??"")),this.showCardAveragePopularity.set(parseFloat(((this.showCardObj?.vote_average??0)*10).toFixed(2))),this.showCardTitle.set(this.showCardObj?.name??"")})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=x({type:t,selectors:[["app-home-tv-card"]],inputs:{showCardObj:"showCardObj"},decls:10,vars:3,consts:[[1,"home-card-show"],[1,"home-card-show__thumbnail"],["alt","thumbnail image",3,"src"],[1,"home-card-show__knob"],[1,"home-card__level-red",3,"ngModel","size","strokeWidth"],[1,"home-card-show__level-yellow",3,"ngModel","size","strokeWidth"],[1,"home-card-show__level-emerald",3,"ngModel","size","strokeWidth"],[1,"home-card-show__content"],[1,"home-card__level-red",3,"ngModelChange","ngModel","size","strokeWidth"],[1,"home-card-show__level-yellow",3,"ngModelChange","ngModel","size","strokeWidth"],[1,"home-card-show__level-emerald",3,"ngModelChange","ngModel","size","strokeWidth"]],template:function(e,r){e&1&&(a(0,"div",0)(1,"div",1),D(2,"img",2),s(),a(3,"div",3),S(4,K,1,3,"p-knob",4)(5,$,1,3,"p-knob",5)(6,q,1,3,"p-knob",6),s(),a(7,"div",7)(8,"h4"),W(9),s()()()),e&2&&(v(2),c("src",r.showCardThumbnailImg(),k),v(2),I(r.showCardAveragePopularity()<30?4:r.showCardAveragePopularity()<70?5:6),v(5),A(r.showCardTitle()))},dependencies:[H,z,R,N],styles:["[_nghost-%COMP%]   .home-card-show[_ngcontent-%COMP%]{width:100%;height:353px;position:relative;border:2px solid var(--p-surface-300);background-color:var(--p-surface-50);transition:.1s;border-radius:1rem;scale:.98}html.my-add-dark   [_nghost-%COMP%]   .home-card-show[_ngcontent-%COMP%]{background-color:var(--p-surface-50)}[_nghost-%COMP%]   .home-card-show[_ngcontent-%COMP%]:hover{scale:1;box-shadow:0 0 10px #0003}[_nghost-%COMP%]   .home-card-show__thumbnail[_ngcontent-%COMP%]{height:350px}[_nghost-%COMP%]   .home-card-show__thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:1rem;width:100%;height:100%}[_nghost-%COMP%]   .home-card-show__knob[_ngcontent-%COMP%]{position:absolute;top:.5rem;left:.5rem}[_nghost-%COMP%]   .home-card-show__knob[_ngcontent-%COMP%]     .p-knob{border-radius:50%;display:flex;align-items:center;justify-content:center;background-color:#00000080;color:var(--p-surface-900)}[_nghost-%COMP%]   .home-card-show__knob[_ngcontent-%COMP%]     .p-knob .p-knob-text{fill:#fff;font-weight:900}[_nghost-%COMP%]   .home-card-show__knob[_ngcontent-%COMP%]     .p-knob .p-knob-range{stroke:var(--p-surface-200)}[_nghost-%COMP%]   .home-card-show__level-emerald[_ngcontent-%COMP%]     .p-knob .p-knob-value{stroke:var(--p-emerald-500)}[_nghost-%COMP%]   .home-card-show__level-yellow[_ngcontent-%COMP%]     .p-knob .p-knob-value{stroke:var(--p-yellow-500)}[_nghost-%COMP%]   .home-card__level-red[_ngcontent-%COMP%]     .p-knob .p-knob-value{stroke:var(--p-red-500)}[_nghost-%COMP%]   .home-card-show__content[_ngcontent-%COMP%]{opacity:0;position:absolute;height:50px;display:flex;justify-content:center;align-items:center;bottom:0;background-color:#000000b3;width:100%;transition:opacity .5s,transform .5s;border-radius:0 0 1rem 1rem}[_nghost-%COMP%]   .home-card-show__content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-size:larger;text-align:center;color:var(--p-surface-800);padding-block:.3rem;color:#fff}[_nghost-%COMP%]   .home-card-show[_ngcontent-%COMP%]:hover   .home-card-show__content[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}"]})};export{re as a,B as b};
